/*! For license information please see 382.8d7b4b89.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkcraftelligence_website=self.webpackChunkcraftelligence_website||[]).push([[382],{1017:(e,a,l)=>{l.d(a,{A:()=>g});var t=l(9950),o=l(728),n=l(234),r=l(8518),i=l(133),s=l(3096),c=l(2555),d=l(3986);const u=e=>{const a=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,a,l)=>l?l.toUpperCase():a.toLowerCase()))(e);return a.charAt(0).toUpperCase()+a.slice(1)},m=function(){for(var e=arguments.length,a=new Array(e),l=0;l<e;l++)a[l]=arguments[l];return a.filter((e,a,l)=>Boolean(e)&&""!==e.trim()&&l.indexOf(e)===a).join(" ").trim()};var p={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const v=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],h=(0,t.forwardRef)((e,a)=>{let{color:l="currentColor",size:o=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:u}=e,h=(0,d.A)(e,v);return(0,t.createElement)("svg",(0,c.A)((0,c.A)((0,c.A)({ref:a},p),{},{width:o,height:o,stroke:l,strokeWidth:r?24*Number(n)/Number(o):n,className:m("lucide",i)},!s&&!(e=>{for(const a in e)if(a.startsWith("aria-")||"role"===a||"title"===a)return!0})(h)&&{"aria-hidden":"true"}),h),[...u.map(e=>{let[a,l]=e;return(0,t.createElement)(a,l)}),...Array.isArray(s)?s:[s]])}),b=["className"],f=(e,a)=>{const l=(0,t.forwardRef)((l,o)=>{let{className:n}=l,r=(0,d.A)(l,b);return(0,t.createElement)(h,(0,c.A)({ref:o,iconNode:a,className:m("lucide-".concat((i=u(e),i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),n)},r));var i});return l.displayName=u(e),l},y=f("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),_=f("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);l(9911);var j=l(4414);const g=()=>{const[e,a]=(0,t.useState)(!1),[l,c]=(0,t.useState)(null),[d,u]=(0,t.useState)(!1),[m,p]=(0,t.useState)(!1),[v,h]=(0,t.useState)("undefined"!==typeof window&&window.innerWidth<=768),b=(0,r.Zp)(),f=(0,t.useRef)(null);(0,t.useEffect)(()=>{const e=()=>{a(window.scrollY>50)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,t.useEffect)(()=>{const e=()=>{const e=window.innerWidth<=768;h(e),e||p(!1)};return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)},[]),(0,t.useEffect)(()=>{const e=(0,s.hg)(i.j2,e=>{c(e)});return()=>e()},[]),(0,t.useEffect)(()=>{const e=e=>{f.current&&!f.current.contains(e.target)&&u(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const g=async()=>{try{await(0,s.CI)(i.j2),u(!1),p(!1),b("/onboarding")}catch(e){console.error("Error signing out:",e)}},x=()=>{u(!1),b("/profile"),p(!1)},w=e=>{if(!e)return"U";const a=e.split(" ");return a.length>=2?"".concat(a[0][0]).concat(a[1][0]).toUpperCase():e[0].toUpperCase()},k=()=>{var e;return(null===l||void 0===l?void 0:l.displayName)||(null===l||void 0===l||null===(e=l.email)||void 0===e?void 0:e.split("@")[0])||"User"};return(0,j.jsx)(o.P.nav,{className:"navbar onboarding-navbar ".concat(e?"scrolled":""," ").concat(m?"expanded":""),initial:{y:-100},animate:{y:0},transition:{duration:.8},children:(0,j.jsxs)("div",{className:"nav-container",style:{justifyContent:"space-between"},children:[(0,j.jsxs)(o.P.div,{className:"nav-logo",whileHover:{scale:1.05},transition:{duration:.2},onClick:()=>b("/"),style:{cursor:"pointer"},children:[(0,j.jsx)("img",{src:"/logo_white.svg",alt:"Craftelligence",className:"logo-img logo-dark"}),(0,j.jsx)("img",{src:"/logo_black.svg",alt:"Craftelligence",className:"logo-img logo-light"}),(0,j.jsxs)("div",{className:"logo-text",children:[(0,j.jsx)("h2",{children:"Craftelligence"}),(0,j.jsx)("p",{children:"We Build. You Scale."})]})]}),(0,j.jsxs)("div",{className:"hamburger ".concat(m?"active":""),onClick:()=>p(!m),children:[(0,j.jsx)("span",{className:"bar"}),(0,j.jsx)("span",{className:"bar"}),(0,j.jsx)("span",{className:"bar"})]}),(0,j.jsx)("ul",{className:"nav-menu ".concat(m?"active":""),children:l?v?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(o.P.li,{style:{listStyle:"none"},whileHover:{scale:1.01},children:(0,j.jsxs)("div",{className:"user-profile-trigger",style:{width:"30%",justifyContent:"center"},children:[(0,j.jsx)("div",{className:"user-avatar",children:null!==l&&void 0!==l&&l.photoURL?(0,j.jsx)("img",{src:l.photoURL,alt:"Profile",className:"avatar-image"}):(0,j.jsx)("div",{className:"avatar-initials",children:w(k())})}),(0,j.jsx)("span",{className:"user-name",children:k()})]})}),(0,j.jsx)(o.P.li,{style:{listStyle:"none"},whileHover:{scale:1.02},children:(0,j.jsxs)("button",{className:"dropdown-item",onClick:x,style:{width:"100%"},children:[(0,j.jsx)(y,{size:16}),(0,j.jsx)("span",{children:"Profile"})]})}),(0,j.jsx)(o.P.li,{style:{listStyle:"none"},whileHover:{scale:1.02},children:(0,j.jsxs)("button",{className:"dropdown-item logout",onClick:g,style:{width:"100%"},children:[(0,j.jsx)(_,{size:16}),(0,j.jsx)("span",{children:"Logout"})]})})]}):(0,j.jsxs)(o.P.li,{style:{listStyle:"none",position:"relative"},whileHover:{scale:1.05},ref:f,children:[(0,j.jsxs)("div",{className:"user-profile-trigger",onClick:()=>u(!d),style:{cursor:"pointer"},children:[(0,j.jsx)("div",{className:"user-avatar",children:null!==l&&void 0!==l&&l.photoURL?(0,j.jsx)("img",{src:l.photoURL,alt:"Profile",className:"avatar-image"}):(0,j.jsx)("div",{className:"avatar-initials",children:w(k())})}),(0,j.jsx)("span",{className:"user-name",children:k()}),(0,j.jsx)("svg",{className:"dropdown-arrow ".concat(d?"open":""),width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:(0,j.jsx)("path",{d:"M2 4L6 8L10 4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),(0,j.jsx)(n.N,{children:d&&(0,j.jsxs)(o.P.div,{className:"user-dropdown",initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},children:[(0,j.jsxs)("button",{className:"dropdown-item",onClick:x,children:[(0,j.jsx)(y,{size:16}),(0,j.jsx)("span",{children:"Profile"})]}),(0,j.jsx)("div",{className:"dropdown-divider"}),(0,j.jsxs)("button",{className:"dropdown-item logout",onClick:g,children:[(0,j.jsx)(_,{size:16}),(0,j.jsx)("span",{children:"Logout"})]})]})})]}):(0,j.jsx)(o.P.li,{style:{listStyle:"none"},whileHover:{scale:1.05},children:(0,j.jsx)("button",{onClick:()=>(b("/developer-registration"),void p(!1)),className:"nav-link",children:"Sign In"})})})]})})}},2382:(e,a,l)=>{l.r(a),l.d(a,{default:()=>f});var t=l(3986),o=l(2555),n=l(9950),r=l(728),i=l(8518),s=l(133),c=l(3096),d=l(1017),u=l(4414);const m=["resume"],p="https://backend-gyqm.onrender.com".replace(/\/$/,""),v=e=>"".concat(p).concat(e.startsWith("/")?e:"/".concat(e)),h={name:"",email:"",phone:"",resume:null,availability:"",location:"",start_date:"",current_job_location:"",job_status:"",experience_years:"",current_position:"",user_role:"",preferred_salary:"",looking_for:""},b={name:"Full Name",email:"Email",phone:"Phone Number",availability:"Availability",location:"Interested Location",start_date:"Start Date",current_job_location:"Current Job Location",job_status:"Job Status",experience_years:"Experience (years)",current_position:"Current Position",resume:"Resume (PDF)",user_role:"User Role",preferred_salary:"Preferred Salary (LPA)",looking_for:"Looking For"};function f(){const[e,a]=(0,n.useState)(()=>s.j2.currentUser),l=(0,i.Zp)(),[p,f]=(0,n.useState)(h),[j,g]=(0,n.useState)(!1),[x,w]=(0,n.useState)(""),[k,N]=(0,n.useState)(""),[C,S]=(0,n.useState)(!1),[A,E]=(0,n.useState)("");(0,n.useEffect)(()=>{const e=(0,c.hg)(s.j2,e=>a(e));return()=>e()},[]),(0,n.useEffect)(()=>{e&&f(a=>(0,o.A)((0,o.A)({},a),{},{name:a.name||e.displayName||"",email:a.email||e.email||""}))},[e]);const P=e=>"profile:".concat(e);(0,n.useEffect)(()=>{if(e)try{const a=localStorage.getItem(P(e.uid));if(a){const e=JSON.parse(a);f(a=>(0,o.A)((0,o.A)((0,o.A)({},a),e),{},{resume:null}))}}catch(a){}},[e]),(0,n.useEffect)(()=>{if(e)try{const{resume:a}=p,l=(0,t.A)(p,m);localStorage.setItem(P(e.uid),JSON.stringify(l))}catch(a){}},[e,p]),(0,n.useEffect)(()=>{(async()=>{if(e)try{var a;g(!0);const t=await(null===(a=e.getIdToken)||void 0===a?void 0:a.call(e)),n=t?{Authorization:"Bearer ".concat(t)}:{},r=await fetch(v("/profiles/user/".concat(encodeURIComponent(e.uid))),{method:"GET",headers:(0,o.A)({},n)});if(404===r.status)return;if(!r.ok)return;const i=await r.json();f(e=>{var a,l,t,n,r,s,c,d,u,m,p,v,h,b,f,y,_,j,g,x,w,k;return(0,o.A)((0,o.A)({},e),{},{name:null!==(a=null!==(l=i.name)&&void 0!==l?l:e.name)&&void 0!==a?a:"",email:null!==(t=null!==(n=i.email)&&void 0!==n?n:e.email)&&void 0!==t?t:"",phone:null!==(r=null!==(s=i.phone_no)&&void 0!==s?s:e.phone)&&void 0!==r?r:"",availability:null!==(c=null!==(d=i.availability)&&void 0!==d?d:e.availability)&&void 0!==c?c:"",location:null!==(u=null!==(m=i.interested_location)&&void 0!==m?m:e.location)&&void 0!==u?u:"",start_date:null!==(p=null!==(v=i.start_date)&&void 0!==v?v:e.start_date)&&void 0!==p?p:"",current_job_location:null!==(h=null!==(b=i.current_job_location)&&void 0!==b?b:e.current_job_location)&&void 0!==h?h:"",job_status:null!==(f=null!==(y=i.job_status)&&void 0!==y?y:e.job_status)&&void 0!==f?f:"",experience_years:void 0!==i.experience_years&&null!==i.experience_years?String(i.experience_years):e.experience_years,current_position:null!==(_=null!==(j=i.current_position)&&void 0!==j?j:e.current_position)&&void 0!==_?_:"",preferred_salary:void 0!==i.preferred_salary&&null!==i.preferred_salary?String(i.preferred_salary):e.preferred_salary,looking_for:null!==(g=null!==(x=i.looking_for)&&void 0!==x?x:e.looking_for)&&void 0!==g?g:"",user_role:null!==(w=null!==(k=i.user_role)&&void 0!==k?k:e.user_role)&&void 0!==w?w:"",resume:null})});try{const a=i.resume_url||i.resume||"",l=e?v("/profiles/user/".concat(encodeURIComponent(e.uid),"/resume")):"";E(a||l)}catch(l){}}catch(t){}finally{g(!1)}})()},[e]);(0,n.useMemo)(()=>{const{name:e,email:a,phone:l,availability:t,location:o,start_date:n,current_job_location:r,job_status:i,current_position:s,resume:c}=p;return!!e&&!!a&&!!l&&!!t&&!!o&&!!n&&!!r&&!!i&&""!==p.experience_years&&!!s&&c instanceof File},[p]);const L=e=>{const{name:a,value:l,files:t}=e.target;if("resume"===a){const e=t&&t[0];f(a=>(0,o.A)((0,o.A)({},a),{},{resume:e||null}))}else f(e=>(0,o.A)((0,o.A)({},e),{},{[a]:l}))},I=e=>{const a=new FormData,l={name:e.name,email:e.email,phone_no:e.phone,availability:e.availability,interested_location:e.location,start_date:e.start_date,current_job_location:e.current_job_location,job_status:e.job_status,experience_years:e.experience_years,current_position:e.current_position,preferred_salary:e.preferred_salary,looking_for:e.looking_for,user_role:e.user_role,resume:e.resume};return Object.entries(l).forEach(e=>{let[l,t]=e;void 0!==t&&null!==t&&""!==t&&a.append(l,t)}),a};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(d.A,{}),(0,u.jsx)("div",{className:"profile-page",children:(0,u.jsxs)("div",{className:"profile-container",children:[(0,u.jsx)("div",{className:"profile-topbar",children:(0,u.jsx)("button",{type:"button",className:"back-btn",onClick:()=>l("/onboarding"),children:"\u2190 Back to Home"})}),(0,u.jsxs)(r.P.div,{className:"profile-card",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.4},children:[(0,u.jsxs)("div",{className:"profile-header",children:[(0,u.jsx)("h2",{children:"Your Profile"}),(0,u.jsx)("p",{children:"Keep your information up to date. Simple and clean."})]}),x&&(0,u.jsx)("div",{className:"message-success",children:x}),k&&(0,u.jsx)("div",{className:"message-error",children:k}),(0,u.jsxs)("form",{onSubmit:async a=>{if(a.preventDefault(),e){g(!0),w(""),N("");try{var l;const a=(0,o.A)({},p),d=I(a),u=await(null===(l=e.getIdToken)||void 0===l?void 0:l.call(e)),m=u?{Authorization:"Bearer ".concat(u)}:{},h=await fetch(v("/profiles/user/".concat(encodeURIComponent(e.uid))),{method:"PUT",headers:m,body:d});if(h.ok){try{var t;const a=await(null===(t=e.getIdToken)||void 0===t?void 0:t.call(e)),l=a?{Authorization:"Bearer ".concat(a)}:{},n=await fetch(v("/profiles/user/".concat(encodeURIComponent(e.uid))),{method:"GET",headers:(0,o.A)((0,o.A)({},l),{},{"Cache-Control":"no-store"})});if(n.ok){const a=await n.json();f(e=>{var l,t,n,r,i,s,c,d,u,m,p,v,h,b,f,y,_,j,g,x,w,k;return(0,o.A)((0,o.A)({},e),{},{name:null!==(l=null!==(t=a.name)&&void 0!==t?t:e.name)&&void 0!==l?l:"",email:null!==(n=null!==(r=a.email)&&void 0!==r?r:e.email)&&void 0!==n?n:"",phone:null!==(i=null!==(s=a.phone_no)&&void 0!==s?s:e.phone)&&void 0!==i?i:"",availability:null!==(c=null!==(d=a.availability)&&void 0!==d?d:e.availability)&&void 0!==c?c:"",location:null!==(u=null!==(m=a.interested_location)&&void 0!==m?m:e.location)&&void 0!==u?u:"",start_date:null!==(p=null!==(v=a.start_date)&&void 0!==v?v:e.start_date)&&void 0!==p?p:"",current_job_location:null!==(h=null!==(b=a.current_job_location)&&void 0!==b?b:e.current_job_location)&&void 0!==h?h:"",job_status:null!==(f=null!==(y=a.job_status)&&void 0!==y?y:e.job_status)&&void 0!==f?f:"",experience_years:void 0!==a.experience_years&&null!==a.experience_years?String(a.experience_years):e.experience_years,current_position:null!==(_=null!==(j=a.current_position)&&void 0!==j?j:e.current_position)&&void 0!==_?_:"",preferred_salary:void 0!==a.preferred_salary&&null!==a.preferred_salary?String(a.preferred_salary):e.preferred_salary,looking_for:null!==(g=null!==(x=a.looking_for)&&void 0!==x?x:e.looking_for)&&void 0!==g?g:"",user_role:null!==(w=null!==(k=a.user_role)&&void 0!==k?k:e.user_role)&&void 0!==w?w:"",resume:null})});try{const l=a.resume_url||a.resume||"",t=e?v("/profiles/user/".concat(encodeURIComponent(e.uid),"/resume")):"";E(l||t)}catch(r){}}}catch(i){}return void w("Profile updated successfully.")}if(404===h.status)try{const a=I(p),l=await fetch(v("/profiles/"),{method:"POST",headers:m,body:a});if(!l.ok){const e=await l.text();throw new Error(e||"Failed to create profile")}try{var n;const a=await(null===(n=e.getIdToken)||void 0===n?void 0:n.call(e)),l=a?{Authorization:"Bearer ".concat(a)}:{},t=await fetch(v("/profiles/user/".concat(encodeURIComponent(e.uid))),{method:"GET",headers:(0,o.A)((0,o.A)({},l),{},{"Cache-Control":"no-store"})});if(t.ok){const e=await t.json();f(a=>{var l,t,n,r,i,s,c,d,u,m,p,v,h,b,f,y,_,j,g,x,w,k;return(0,o.A)((0,o.A)({},a),{},{name:null!==(l=null!==(t=e.name)&&void 0!==t?t:a.name)&&void 0!==l?l:"",email:null!==(n=null!==(r=e.email)&&void 0!==r?r:a.email)&&void 0!==n?n:"",phone:null!==(i=null!==(s=e.phone_no)&&void 0!==s?s:a.phone)&&void 0!==i?i:"",availability:null!==(c=null!==(d=e.availability)&&void 0!==d?d:a.availability)&&void 0!==c?c:"",location:null!==(u=null!==(m=e.interested_location)&&void 0!==m?m:a.location)&&void 0!==u?u:"",start_date:null!==(p=null!==(v=e.start_date)&&void 0!==v?v:a.start_date)&&void 0!==p?p:"",current_job_location:null!==(h=null!==(b=e.current_job_location)&&void 0!==b?b:a.current_job_location)&&void 0!==h?h:"",job_status:null!==(f=null!==(y=e.job_status)&&void 0!==y?y:a.job_status)&&void 0!==f?f:"",experience_years:void 0!==e.experience_years&&null!==e.experience_years?String(e.experience_years):a.experience_years,current_position:null!==(_=null!==(j=e.current_position)&&void 0!==j?j:a.current_position)&&void 0!==_?_:"",preferred_salary:void 0!==e.preferred_salary&&null!==e.preferred_salary?String(e.preferred_salary):a.preferred_salary,looking_for:null!==(g=null!==(x=e.looking_for)&&void 0!==x?x:a.looking_for)&&void 0!==g?g:"",user_role:null!==(w=null!==(k=e.user_role)&&void 0!==k?k:a.user_role)&&void 0!==w?w:"",resume:null})})}}catch(s){}return void w("Profile created successfully.")}catch(c){N(c.message||"Something went wrong")}finally{g(!1)}const b=await h.text();throw new Error(b||"Failed to update profile")}catch(c){N(c.message||"Something went wrong")}finally{g(!1)}}else N("You must be logged in to update your profile.")},children:[(0,u.jsxs)("div",{className:"form-grid",children:[(0,u.jsx)(y,{label:b.name,name:"name",value:p.name,onChange:L,required:!0,placeholder:"Enter your full name"}),(0,u.jsx)(y,{type:"email",label:b.email,name:"email",value:p.email,onChange:L,required:!0,placeholder:"Enter your email"}),(0,u.jsx)(y,{label:b.phone,name:"phone",value:p.phone,onChange:L,required:!0,placeholder:"Enter your phone number"}),(0,u.jsx)(_,{label:b.availability,name:"availability",value:p.availability,onChange:L,options:[{value:"",label:"Select availability"},{value:"full-time",label:"Full Time (40hrs/week)"},{value:"part-time",label:"Part Time (20hrs/week)"}],required:!0}),(0,u.jsx)(_,{label:b.location,name:"location",value:p.location,onChange:L,options:[{value:"",label:"Select location preference"},{value:"remote",label:"Remote"},{value:"onsite",label:"Onsite"},{value:"both",label:"Both Remote & Onsite"}],required:!0}),(0,u.jsx)(_,{label:b.start_date,name:"start_date",value:p.start_date,onChange:L,options:[{value:"",label:"Select start date"},{value:"immediately",label:"Immediately"},{value:"15 days",label:"15 days"},{value:"1 month",label:"1 month"}],required:!0}),(0,u.jsx)(y,{label:b.current_job_location,name:"current_job_location",value:p.current_job_location,onChange:L,required:!0,placeholder:"Enter your current job location"}),(0,u.jsx)(_,{label:b.job_status,name:"job_status",value:p.job_status,onChange:L,options:[{value:"",label:"Select job status"},{value:"employed",label:"Employed"},{value:"unemployed",label:"Unemployed"}],required:!0}),(0,u.jsx)(y,{type:"number",min:"0",step:"0.1",label:b.experience_years,name:"experience_years",value:p.experience_years,onChange:L,required:!0,placeholder:"Years of experience"}),(0,u.jsx)(_,{label:b.current_position,name:"current_position",value:p.current_position,onChange:L,options:[{value:"",label:"Select current position"},{value:"frontend",label:"Frontend Developer"},{value:"backend",label:"Backend Developer"},{value:"full stack",label:"Full Stack Developer"},{value:"data scientist",label:"Data Scientist"},{value:"ai-ml",label:"AI/ML Engineer"},{value:"qa",label:"QA Engineer"},{value:"other",label:"Other"}],required:!0}),(0,u.jsx)(y,{type:"text",label:b.preferred_salary,name:"preferred_salary",value:p.preferred_salary,onChange:L,placeholder:"Enter expected salary (e.g., 15 LPA)"}),(0,u.jsx)(_,{label:b.looking_for,name:"looking_for",value:p.looking_for,onChange:L,options:[{value:"",label:"Select job role"},{value:"frontend",label:"Frontend Developer"},{value:"backend",label:"Backend Developer"},{value:"full stack",label:"Full Stack Developer"},{value:"data scientist",label:"Data Scientist"},{value:"ai-ml",label:"AI/ML Engineer"},{value:"qa",label:"QA Engineer"},{value:"other",label:"Other"}]}),(0,u.jsx)(_,{label:b.user_role,name:"user_role",value:p.user_role,onChange:L,options:[{value:"",label:"Select employment type"},{value:"contractor",label:"Contractor"},{value:"full-time",label:"Full-time"},{value:"part-time",label:"Part-time"},{value:"any",label:"Any"}]}),(0,u.jsxs)("div",{className:"file-row",children:[(0,u.jsx)("label",{children:b.resume}),(0,u.jsxs)("div",{className:"file-input-wrapper",children:[(0,u.jsx)("input",{type:"file",name:"resume",accept:"application/pdf",onChange:L,className:"file-input"}),(0,u.jsx)("span",{className:"file-label",children:p.resume?"string"===typeof p.resume?p.resume.split("/").pop():p.resume.name:"Choose PDF file"})]}),(0,u.jsx)("small",{className:"file-hint",children:"Upload a PDF file. Max 5MB."})]})]}),(0,u.jsxs)("div",{className:"btn-row",children:[A&&(0,u.jsx)("button",{type:"button",onClick:async()=>{if(A)try{var a;const l=await(null===e||void 0===e||null===(a=e.getIdToken)||void 0===a?void 0:a.call(e)),t=l?{Authorization:"Bearer ".concat(l)}:{},o=await fetch(A,{headers:t});if(!o.ok)throw new Error("Failed to fetch resume");const n=await o.blob(),r=new Blob([n],{type:"application/pdf"}),i=URL.createObjectURL(r),s=window.open("","_blank");s?(s.document.write('<!DOCTYPE html><html><head><title>Resume</title><meta name="viewport" content="width=device-width, initial-scale=1"/></head><body style="margin:0;padding:0;overflow:hidden;background:#111">'),s.document.write('<embed src="'.concat(i,'#toolbar=1&navpanes=0&scrollbar=1" type="application/pdf" style="border:0;width:100vw;height:100vh" />')),s.document.write("</body></html>"),s.document.close()):window.open(i,"_blank","noopener,noreferrer")}catch(l){window.open(A,"_blank","noopener,noreferrer")}},disabled:j,className:"btn",title:"View your uploaded resume",children:"View Resume"}),(0,u.jsx)("button",{type:"button",onClick:()=>{e?S(!0):N("You must be logged in to delete your profile.")},disabled:j,className:"btn btn-danger",children:j?"Please wait...":"Delete Profile"}),(0,u.jsx)("button",{type:"submit",disabled:j,className:"submit-btn",style:{minWidth:140},children:j?"Saving...":"Save"})]})]})]}),C&&(0,u.jsx)("div",{className:"modal-overlay",role:"dialog","aria-modal":"true",children:(0,u.jsxs)(r.P.div,{className:"modal-card",initial:{opacity:0,scale:.95,y:10},animate:{opacity:1,scale:1,y:0},transition:{duration:.2},children:[(0,u.jsx)("h3",{children:"Delete Profile"}),(0,u.jsx)("p",{children:"This action will permanently remove your profile and sign you out. This cannot be undone."}),(0,u.jsxs)("div",{className:"modal-actions",children:[(0,u.jsx)("button",{className:"btn",onClick:()=>S(!1),disabled:j,children:"Cancel"}),(0,u.jsx)("button",{className:"btn btn-danger",onClick:async()=>{await(async()=>{if(e){g(!0),w(""),N("");try{var a;const n=await(null===(a=e.getIdToken)||void 0===a?void 0:a.call(e)),r=n?{Authorization:"Bearer ".concat(n)}:{},i=await fetch(v("/profiles/user/".concat(encodeURIComponent(e.uid))),{method:"DELETE",headers:r});if(!i.ok){const e=await i.text();throw new Error(e||"Failed to delete profile")}try{await(0,c.hG)(e);try{localStorage.removeItem("profile:".concat(e.uid))}catch(t){}return await(0,c.CI)(s.j2).catch(()=>{}),void l("/onboarding")}catch(o){return await(0,c.CI)(s.j2).catch(()=>{}),void l("/onboarding")}}catch(n){N(n.message||"Something went wrong while deleting")}finally{g(!1)}}else N("You must be logged in to delete your profile.")})(),S(!1)},disabled:j,children:j?"Deleting...":"Delete"})]})]})})]})})]})}function y(e){let{label:a,name:l,value:t,onChange:o,type:n="text",required:r,min:i,step:s}=e;return(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsxs)("label",{children:[a,r?" *":""]}),(0,u.jsx)("input",{className:"input",type:n,name:l,value:t,onChange:o,required:r,min:i,step:s})]})}function _(e){let{label:a,name:l,value:t,onChange:o,options:n,required:r}=e;return(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsxs)("label",{children:[a,r?" *":""]}),(0,u.jsx)("select",{name:l,value:t,onChange:o,required:r,className:"select",children:n.map(e=>(0,u.jsx)("option",{value:e.value,children:e.label},e.value))})]})}}}]);